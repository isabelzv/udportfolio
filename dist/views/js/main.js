function logAverageFrame(e){for(var n=e.length,r=0,a=n-1;a>n-11;a--)r+=e[a].duration;console.log("Average time to generate last 10 frames: "+r/10+"ms")}function onScroll(){lastScrollTop=document.body.scrollTop,requestTick()}function requestTick(){ticking||(requestAnimationFrame(update),ticking=!0)}function update(){frame++,window.performance.mark("mark_start_frame");for(var e=document.getElementsByClassName("mover"),n=lastScrollTop/1250,r=[],a=0;5>a;a++)r[a]=100*Math.sin(n+a%5)-200;for(a=0;a<e.length;a++)pos=e[a].basicLeft+r[a%5],e[a].style.left=pos+"px",pos+77<0&&(e[a].style.display="none");ticking=!1}var nameWorker=new Worker("js/nameWorker.js");nameWorker.onmessage=function(e){if(name=e.data.name,id=e.data.id,name){var n=document.getElementById("pizzaName"+id);return void(n.innerHTML=name)}console.log("No name returned.")};var pizzaWorker=new Worker("js/pizzaWorker.js");pizzaWorker.onmessage=function(e){if(ingredients=e.data.ingredients,id=e.data.id,ingredients){var n=document.getElementById("pizzaIngredients"+id);return void(n.innerHTML=ingredients)}console.log("No ingredients returned.")};var pizzaElementGenerator=function(e){var n,r,a,i,t,o;return n=document.createElement("div"),r=document.createElement("div"),a=document.createElement("img"),i=document.createElement("div"),n.classList.add("randomPizzaContainer"),n.style.width="33.33%",n.style.height="325px",n.id="pizza"+e,r.classList.add("col-md-6"),a.src="images/pizza.png",a.classList.add("img-responsive"),r.appendChild(a),n.appendChild(r),i.classList.add("col-md-6"),t=document.createElement("h4"),t.id="pizzaName"+e,i.appendChild(t),nameWorker.postMessage({id:e}),o=document.createElement("ul"),o.id="pizzaIngredients"+e,i.appendChild(o),pizzaWorker.postMessage({id:e}),n.appendChild(i),n},resizePizzas=function(e){function n(e){switch(e){case"1":return void(document.querySelector("#pizzaSize").innerHTML="Small");case"2":return void(document.querySelector("#pizzaSize").innerHTML="Medium");case"3":return void(document.querySelector("#pizzaSize").innerHTML="Large");default:console.log("bug in changeSliderLabel")}}function r(e){switch(e){case"1":newwidth=25;break;case"2":newwidth=33.3;break;case"3":newwidth=50;break;default:console.log("bug in sizeSwitcher")}for(var n=document.querySelectorAll(".randomPizzaContainer"),r=0;r<n.length;r++)n[r].style.width=newwidth+"%"}window.performance.mark("mark_start_resize"),n(e),r(e),window.performance.mark("mark_end_resize"),window.performance.measure("measure_pizza_resize","mark_start_resize","mark_end_resize");var a=window.performance.getEntriesByName("measure_pizza_resize");console.log("Time to resize pizzas: "+a[0].duration+"ms")};window.performance.mark("mark_start_generating");for(var i=2;100>i;i++){var pizzasDiv=document.getElementById("randomPizzas");pizzasDiv.appendChild(pizzaElementGenerator(i))}window.performance.mark("mark_end_generating"),window.performance.measure("measure_pizza_generation","mark_start_generating","mark_end_generating");var timeToGenerate=window.performance.getEntriesByName("measure_pizza_generation");console.log("Time to generate pizzas on load: "+timeToGenerate[0].duration+"ms");var frame=0,lastScrollTop=0,ticking=!1;window.addEventListener("scroll",onScroll,!1),document.addEventListener("DOMContentLoaded",function(){for(var e=8,n=256,r=0;24>r;r++){var a=document.createElement("img");a.className="mover",a.src="images/movingPizza.png",a.basicLeft=r%e*n,a.style.top=Math.floor(r/e)*n+"px",document.querySelector("#movingPizzas1").appendChild(a)}});
//# sourceMappingURL=main.js.map
